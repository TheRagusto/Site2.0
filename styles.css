* { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --ease-smooth: cubic-bezier(.2,.9,.2,1);
      --nav-font: 'Audiowide', sans-serif;
      --body-font: 'Caladea', serif;
          --panel-shadow: 0px 10px 18px rgba(0,0,0,0.18);
    }

    body {
      font-family: var(--body-font);
      background: #fff;
      color: #000;
      min-height: 100svh;
      height: 100svh;
      overflow: hidden;
    }

    /* Slides */
    .slides {
      position: fixed;
      inset: 0;
      display: flex;
      width: 400vw;
      min-height: 100svh;
      height: 100svh;
      transform: translateX(0);
      transition: transform 900ms var(--ease-smooth);
      will-change: transform;
    }

    .slide {
      width: 100vw;
      min-height: 100svh;
      height: 100svh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
      position: relative;
    }

    .slide[data-section="about"] { position: relative; }

    /* Top right language */
    .lang {
      position: fixed;
      top: 6px;
      right: 48px;
      font-family: var(--nav-font);
      font-size: clamp(18px, 2.2vw, 32px);
      line-height: 1.2;
      z-index: 40;
      user-select: none;
    }

    /* CV button (lives inside About slide so it slides out with the section) */
    .cv-button-wrapper {
      position: absolute;
      top: 87px;
      right: 151px;
      width: 205px;
      height: 205px;
      z-index: 35;
      filter: drop-shadow(0px 4px 4px rgba(0,0,0,0.25));
      --cv-scale: 1;
      transform: translateX(0) translateY(0) scale(var(--cv-scale));
      transform-origin: top right;
      transition:
        transform 620ms var(--ease-smooth),
        filter 620ms var(--ease-smooth),
        opacity 620ms var(--ease-smooth);
    }

    /* Optional: disable interactions once About is off-screen (still safe even without JS) */
    .slide[data-section="about"]:not(.is-active) .cv-button-wrapper {
      pointer-events: none;
    }

    .cv-button-wrapper::before {
      content: "";
      position: absolute;
      inset: 0;
      border: 4px dashed #000;
      border-radius: 50%;
      transform-origin: 50% 50%;
      animation: spin 10s linear infinite;
      will-change: transform;
      opacity: 1;
      transition: opacity 520ms var(--ease-smooth);
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* Inner black circle */
    .cv-button {
      position: absolute;
      width: 182px;
      height: 182px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      background: #000;
      box-shadow: 0px 4px 4px rgba(0,0,0,0.25);
      display: grid;
      place-items: center;
      cursor: pointer;
      will-change: transform, box-shadow;
      transition: transform 520ms var(--ease-smooth), box-shadow 520ms var(--ease-smooth);
    }

    .cv-button span {
      display: inline-block;
      font-family: 'Changa One', cursive;
      font-weight: 400;
      font-size: 64px;
      line-height: 1;
      color: #fff;
      transform: rotate(-20.17deg);
      text-shadow: 0px 6px 8px rgba(0,0,0,0.35);
    }

    .cv-button-wrapper:hover {
      transform: scale(calc(var(--cv-scale) * 1.035));
      filter: drop-shadow(0px 12px 18px rgba(0,0,0,0.20));
    }

    .cv-button-wrapper:hover::before { opacity: 0.88; }

    .cv-button-wrapper:hover .cv-button {
      transform: translate(-50%, -50%) scale(1.05);
      box-shadow: 0px 14px 24px rgba(0,0,0,0.18);
    }

    @media (prefers-reduced-motion: reduce) {
      .cv-button-wrapper::before { animation: none; }
      .slides { transition: none; }
    }

    /* About hero */
    .hero {
      font-family: var(--body-font);
      font-size: clamp(34px, 4.7vw, 64px);
      line-height: 1.15;
      text-align: center;
      text-shadow: 0px 10px 5.8px rgba(0,0,0,0.25);
      max-width: 980px;
      padding: 12px 16px;
    }

    /* Standard panel card (Video/Graphics/Music) */
    .panel-card {
      width: min(1180px, 92vw);
      height: min(680px, 68vh);
      background: #d9d9d9;
      border-radius: 26px;
      box-shadow: var(--panel-shadow);
      padding: 34px;
      position: relative;
      overflow: hidden; /* prevent content from spilling outside the panel */
    }

    /* Wrapper used ONLY for the Video tab so the side selectors can protrude
       without turning the whole panel into overflow:visible. */
    .video-shell{
      width: min(1180px, 92vw);
      height: min(680px, 68vh);
      margin: 0 auto;
      position: relative;
      overflow: visible;
    }
    .video-shell .panel-card{
      width: 100%;
      height: 100%;
      margin: 0;
      overflow: hidden;
    }

    /* Video slide card */
    .video-card {
      display: grid;
      grid-template-columns: minmax(0, 1.55fr) minmax(0, 1fr);
      gap: 34px;
      align-items: center;
    }

    
    .video-preview{
      width: 100%;
      height: 100%;
      background: #000;
      border-radius: 24px;
      overflow: hidden;
      position: relative;
    }
    .project-youtube{
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
    }

.video-tabs {
  position: absolute;
  top: 22px;
  right: -12px; /* protrude beyond the panel edge */
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 5;
}

.video-tab {
  width: 30px;
  height: 30px;
  border-radius: 6px;
  border: none;
  background: #d9d9d9;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.18);
  cursor: pointer;
  transition: transform .22s var(--ease-smooth), background .22s var(--ease-smooth), box-shadow .22s var(--ease-smooth);
  transform: translateX(0);
}


.video-tab:hover{
  transform: translate3d(-4px,-2px,0);
  opacity: 1;
  box-shadow: 0px 14px 22px rgba(0,0,0,0.20);
}

.video-tab.is-active {
  background: #000;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.22);
}




    .video-preview {
      height: 100%;
      background: #000;
      border-radius: 22px;
      display: grid;
      place-items: center;
      position: relative;
      overflow: hidden;
    }

    .play-triangle {
      width: 0;
      height: 0;
      border-left: 170px solid #e62b2b;
      border-top: 100px solid transparent;
      border-bottom: 100px solid transparent;
      transform: translateX(10px);
      filter: drop-shadow(0px 6px 10px rgba(0,0,0,0.25));
    }

    .video-meta {
      text-align: left;
      font-family: var(--nav-font);
      color: #000;
      padding-right: 10px;
    }

    .video-meta h2 {
      font-size: clamp(34px, 4vw, 56px);
      line-height: 1.05;
      margin-bottom: 12px;
      font-weight: 400;
    }

    .video-meta p {
      font-family: var(--body-font);
      font-size: clamp(16px, 1.8vw, 24px);
      line-height: 1.35;
      font-weight: 400;
      opacity: 0.95;
      max-width: 360px;
    }

    /* Graphics slide gallery */
    .graphics-card{
      display: grid;
      grid-template-columns: 1fr 230px;
      gap: 26px;
      align-items: stretch;
}

    .graphics-main{
      background:#000;
      background-size:contain;
      background-repeat:no-repeat;
      background-position:center;

      height: 100%;
      background: #000;
      border-radius: 30px;
      box-shadow: inset 0 0 0 0 rgba(255,255,255,0);
      transition: box-shadow 320ms var(--ease-smooth);
    }

  /* Graphics images (use <img> instead of background-image for reliable hosting) */
  .graphics-main{ overflow:hidden; }
  .graphics-main img{
    width:100%;
    height:100%;
    display:block;
    border-radius:32px;
    object-fit:contain;
    background:#0b0b0b;
  }
  .gthumb{ overflow:hidden; padding:0; }
  .gthumb img{
    width:100%;
    height:100%;
    display:block;
    border-radius:26px;
    object-fit:cover;
    background:#0b0b0b;
  }

    .graphics-thumbs{
      height: 100%;
      display: grid;
      grid-template-rows: repeat(4, 1fr);
      gap: 18px;
      align-content: stretch;
    }

    .gthumb{
      border: 0;
      width: 100%;
      background: #000;
      border-radius: 26px;
      cursor: pointer;
      box-shadow: 0px 8px 14px rgba(0,0,0,0.18);
      transform: translateY(0) scale(1);
      opacity: 0.92;
      transition: transform 240ms var(--ease-smooth), opacity 240ms var(--ease-smooth), box-shadow 240ms var(--ease-smooth);
    }

    .gthumb:hover{
      transform: translateY(-2px) scale(1.02);
      opacity: 1;
      box-shadow: 0px 12px 18px rgba(0,0,0,0.22);
    }

    .gthumb.is-active{
      opacity: 1;
      box-shadow: 0 0 0 4px rgba(0,0,0,0.18), 0px 14px 20px rgba(0,0,0,0.24);
    }

    .gthumb:focus{ outline: none; }
    .gthumb:focus-visible{
      box-shadow: 0 0 0 4px rgba(0,0,0,0.22), 0px 14px 20px rgba(0,0,0,0.24);
      opacity: 1;
    }



    /* Fix Grid overflow/overlap in Graphics on some hosts/browsers */
    .graphics-main, .graphics-thumbs { min-height: 0; }
    .gthumb { height: 100%; display: block; }

    /* Fullscreen button for Graphics main preview */
    .gfull-btn{
      position:absolute;
      right: 18px;
      bottom: 18px;
      width: 46px;
      height: 46px;
      border: 0;
      border-radius: 14px;
      background: rgba(0,0,0,0.72);
      color: #fff;
      display: grid;
      place-items: center;
      cursor: pointer;
      box-shadow: 0px 10px 18px rgba(0,0,0,0.22);
      transition: transform 220ms var(--ease-smooth), background 220ms var(--ease-smooth), box-shadow 220ms var(--ease-smooth);
      z-index: 3;
    }
    .gfull-btn:hover{
      transform: translateY(-2px) scale(1.03);
      background: rgba(0,0,0,0.82);
      box-shadow: 0px 14px 22px rgba(0,0,0,0.26);
    }
    .gfull-ic{
      width: 20px;
      height: 20px;
      display:block;
    }



    /* Graphics fullscreen fallback modal (for mobile browsers that don't support Fullscreen API) */
    .gmodal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.92);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 120;
      padding: 18px;
    }
    .gmodal.is-open{ display: flex; }
    .gmodal img{
      width: min(1200px, 96vw);
      height: auto;
      max-height: 90svh;
      object-fit: contain;
      border-radius: 18px;
      background: #0b0b0b;
      box-shadow: 0px 18px 28px rgba(0,0,0,0.35);
    }
    .gmodal-close{
      position: absolute;
      top: calc(14px + env(safe-area-inset-top, 0px));
      right: calc(14px + env(safe-area-inset-right, 0px));
      width: 44px;
      height: 44px;
      border: 0;
      border-radius: 14px;
      background: rgba(217,217,217,0.92);
      color: #000;
      display: grid;
      place-items: center;
      cursor: pointer;
      box-shadow: 0px 12px 20px rgba(0,0,0,0.22);
      transition: transform 220ms var(--ease-smooth), background 220ms var(--ease-smooth);
    }
    .gmodal-close:hover{ transform: translateY(-1px) scale(1.03); background: rgba(217,217,217,1); }
    .gmodal-close svg{ width: 18px; height: 18px; }

    /* Bottom-left name (morphs on Music) */
    .logo {
      position: fixed;
      bottom: 30px;
      left: 30px;
      font-family: var(--nav-font);
      font-size: clamp(34px, 4.5vw, 64px);
      line-height: 1.05;
      z-index: 40;
      user-select: none;
      white-space: nowrap;
      display: inline-grid;
      transform: translate3d(var(--logo-shift, 0px), 0, 0);
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
      backface-visibility: hidden;
      transition: transform 760ms var(--ease-smooth);
    }

    .logo-name {
      grid-area: 1 / 1;
      transition: opacity 520ms var(--ease-smooth), transform 520ms var(--ease-smooth);
      will-change: opacity, transform;
    }


    .logo-name.is-ragus {
      opacity: 0;
      transform: translate3d(-12px, 0, 0) scale(0.99);
      pointer-events: none;
    }

    body[data-section="music"] .logo-name.is-rafael {
      opacity: 0;
      transform: translate3d(12px, 0, 0) scale(0.99);
      pointer-events: none;
    }

    body[data-section="music"] .logo-name.is-ragus {
      opacity: 1;
      transform: translate3d(0px, 0, 0) scale(1);
      pointer-events: auto;
    }

    /* Bottom nav */
    .navbar {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: clamp(18px, 2.8vw, 48px);
      font-family: var(--nav-font);
      font-size: clamp(18px, 2.2vw, 32px);
      z-index: 40;
      white-space: nowrap;
      user-select: none;
    }

    .navbar a {
      position: relative;
      text-decoration: none;
      color: #000;
      padding: 6px 10px;
      transform: translateY(0) scale(1);
      transition: transform 280ms var(--ease-smooth), opacity 280ms var(--ease-smooth);
    }

    .navbar a::after {
      content: "";
      position: absolute;
      left: 6px;
      right: 6px;
      bottom: -8px;
      height: 3px;
      background: #000;
      border-radius: 999px;
      transform: scaleX(0);
      transform-origin: center;
      opacity: 0;
      transition: transform 320ms var(--ease-smooth), opacity 320ms var(--ease-smooth);
    }

    .navbar a:hover {
      transform: translateY(-1px) scale(1.02);
      opacity: 0.9;
    }

    .navbar a:hover::after {
      transform: scaleX(1);
      opacity: 1;
    }

    .navbar a:focus { outline: none; }
    .navbar a:focus-visible::after {
      transform: scaleX(1);
      opacity: 1;
    }

    .navbar a.is-active {
      transform: translateY(-1px) scale(1.12);
      opacity: 1;
    }

    .navbar a.is-active::after {
      transform: scaleX(1);
      opacity: 1;
    }

    /* Music tab layout */
    .music-wrap{
      width: min(1180px, 92vw);
      display: grid;
      grid-template-columns: 1fr 1fr;
      align-items: center;
      column-gap: clamp(32px, 5vw, 84px);
      transform: translateY(-18px);
    }

    .music-info{
      text-align: center;
      font-family: var(--nav-font);
    }

    .music-now{
      font-size: clamp(18px, 2.35vw, 32px);
      letter-spacing: 0.08em;
      margin-bottom: 18px;
      opacity: 0.95;
    }

    
    .np-dots{
  display:inline-flex;
  gap: 2px;
  margin-left: 6px;
}

/* Choppy cumulative ellipsis: 1 dot → 2 dots → 3 dots → all off → loop */
.np-dots span{
  display:inline-block;
  opacity: 0;
  animation-duration: 2.8s;
  animation-timing-function: steps(1, end);
  animation-iteration-count: infinite;
}
.np-dots span:nth-child(1){ animation-name: npDot1; }
.np-dots span:nth-child(2){ animation-name: npDot2; }
.np-dots span:nth-child(3){ animation-name: npDot3; }

@keyframes npDot1{
  0%, 9%   { opacity: 0; }
  10%, 75% { opacity: 1; }
  76%, 100%{ opacity: 0; }
}
@keyframes npDot2{
  0%, 34%  { opacity: 0; }
  35%, 75% { opacity: 1; }
  76%, 100%{ opacity: 0; }
}
@keyframes npDot3{
  0%, 59%  { opacity: 0; }
  60%, 75% { opacity: 1; }
  76%, 100%{ opacity: 0; }
}

    .music-title{
      font-size: clamp(20px, 2.55vw, 36px);
      margin-bottom: 10px;
    }

    .music-desc{
      font-size: clamp(14px, 2.0vw, 26px);
      opacity: 0.95;
    }

    .music-grid{
  --tile: clamp(220px, 22vw, 340px);
  display: grid;
  grid-template-columns: repeat(2, var(--tile));
  gap: clamp(22px, 2.8vw, 38px);
  justify-content: end;
  align-content: center;
  justify-items: stretch;
}

.music-tile{
  width: 100%;
  aspect-ratio: 1 / 1;
  border: 0;
  border-radius: 34px;
  background: transparent;
  box-shadow: 0px 12px 18px rgba(0,0,0,0.20);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 260ms var(--ease-smooth), box-shadow 260ms var(--ease-smooth), opacity 260ms var(--ease-smooth);
  opacity: 0.95;
}

.music-tile .tile-sticker{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  border-radius: 34px;
}


    .music-tile:hover{
      transform: translateY(-3px) scale(1.01);
      box-shadow: 0px 16px 22px rgba(0,0,0,0.24);
      opacity: 1;
    }

    .music-tile.is-active{
      opacity: 1;
      box-shadow: 0 0 0 4px rgba(0,0,0,0.15), 0px 18px 24px rgba(0,0,0,0.26);
      transform: translateY(-2px) scale(1.01);
    }

    
.tile-num{
  position:absolute;
  right: 14px;
  bottom: 14px;
  width: 28px;
  height: 28px;
  border-radius: 10px;
  display:grid;
  place-items:center;
  font-family: var(--nav-font);
  font-size: 14px;
  line-height: 1;
  color: #fff;
  background: rgba(0,0,0,0.70);
  box-shadow: 0px 10px 16px rgba(0,0,0,0.22);
  pointer-events:none;
}
.tile-sticker{
  width:100%;
  height:100%;
  display:block;
  object-fit:cover;
}


.note-icon{
      width: 56%;
      height: 56%;
      filter: drop-shadow(0px 10px 18px rgba(0,0,0,0.22));
    }

    
    
    .sc-player{
      width: 100%;
      height: 162px;
      border: 0;
      border-radius: 20px;
      overflow: hidden;
      margin-top: 18px;
      background: #000;
      box-shadow: 0px 12px 18px rgba(0,0,0,0.20);
    }
/* Responsive */
    @media (max-width: 1000px) {
      .panel-card { height: auto; }
      .video-card { grid-template-columns: 1fr; }
      .video-preview { height: min(420px, 45vh); }
      .video-meta p { font-family: var(--body-font);
      max-width: none; }

      .graphics-card { grid-template-columns: 1fr; }
      .graphics-thumbs {
        grid-template-rows: none;
        grid-template-columns: repeat(4, 1fr);
        height: auto;
      }
      .gthumb { height: 92px; }

      .music-wrap { grid-template-columns: 1fr; row-gap: 28px; transform: translateY(-8px); }
      .music-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); justify-content: center; gap: 18px; }
    }

    @media (max-width: 900px) {
      .cv-button-wrapper {
        right: 20px;
        top: 70px;
        transform: scale(0.85);
        transform-origin: top right;
      }
      .lang { right: 20px; }
      .logo { left: 18px; bottom: 18px; }
      .navbar { bottom: 18px; gap: 18px; }
    }

    /* Mobile-first refinements */
    @media (max-width: 640px) {
      body { overflow-x: hidden; }

      /* Reserve space for the floating navbar so content never sits behind it */
      :root { --mobile-nav-h: 78px; }

      /* Keep full viewport height, but add bottom padding equal to nav height */
      .slides{
        height: 100svh;
      }
      .slide{
        height: 100svh;
        padding: 22px 16px calc(22px + var(--mobile-nav-h) + env(safe-area-inset-bottom, 0px));
      }

      .lang {
        right: 16px;
        top: 10px;
        font-size: 18px;
      }

      .hero {
        font-size: clamp(28px, 7.4vw, 44px);
        text-shadow: 0px 8px 5px rgba(0,0,0,0.22);
        padding: 10px 10px;
      }

      .cv-button-wrapper{
        top: 64px;
        right: 16px;
        width: 150px;
        height: 150px;
        --cv-scale: 1;
      }
      .cv-button{ width: 132px; height: 132px; }
      .cv-button span{ font-size: 48px; }

      .navbar{
        left: 50%;
        bottom: calc(10px + env(safe-area-inset-bottom, 0px));
        transform: translateX(-50%);
        gap: 12px;
        font-size: 16px;
        flex-wrap: nowrap;
        justify-content: flex-start;
        max-width: calc(100vw - 24px);
        padding: 10px 12px;
        min-height: var(--mobile-nav-h);
        border-radius: 999px;
        background: rgba(217,217,217,0.92);
        box-shadow: 0px 10px 18px rgba(0,0,0,0.14);
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      }
      .navbar::-webkit-scrollbar{ display:none; }
      .navbar a{ flex: 0 0 auto; padding: 6px 10px; }
      .navbar a{ padding: 6px 8px; }

      .logo{
        left: 14px;
        top: 12px;
        bottom: auto;
        font-size: 26px;
        z-index: 45;
      }

      .panel-card{
        width: 92vw;
        padding: 18px;
        border-radius: 22px;
        height: auto;
        max-height: 70svh;
        overflow: auto; /* allow content to fit on short screens */
        -webkit-overflow-scrolling: touch;
      }

      .video-shell{ width: 92vw; height: auto; }
      .video-shell .panel-card{ max-height: 74svh; overflow: hidden; }

      .video-card{ gap: 18px; }
      .video-preview{ height: min(44svh, 360px); border-radius: 18px; }
      .video-meta h2{ font-size: 30px; }
      .video-meta p{ font-size: 16px; max-width: none; }

      .video-tabs{
        right: -10px;
        top: 18px;
        gap: 10px;
      }
      .video-tab{
        width: 38px;
        height: 38px;
        border-radius: 10px;
      }

      .graphics-card{ gap: 16px; }
      .graphics-main{ border-radius: 22px; }
      .graphics-main img{ border-radius: 22px; }
      .graphics-thumbs{ gap: 12px; }
      .gthumb{ border-radius: 18px; }
      .gthumb img{ border-radius: 18px; }
      .gfull-btn{ right: 14px; bottom: 14px; width: 44px; height: 44px; border-radius: 14px; }

      .music-wrap{ width: 92vw; row-gap: 18px; transform: translateY(-6px); }
      .music-now{ font-size: 18px; margin-bottom: 10px; }
      .music-title{ font-size: 22px; }
      .music-desc{ font-size: 16px; }

      .music-grid{
        --tile: clamp(150px, 34vw, 220px);
        gap: 14px;
        justify-content: center;
      }
      .music-tile{ border-radius: 22px; }
    }

    /* Very short screens (landscape phones) */
    @media (max-height: 640px) {
      .panel-card{ max-height: 66svh; }
      .video-preview{ height: min(48svh, 320px); }
      .navbar{ bottom: 10px; }
      .logo{ bottom: 10px; }
    }

  
.video-placeholder{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family: inherit;
  font-size: 18px;
  letter-spacing: 0.02em;
  color: rgba(255,255,255,0.85);
  background: linear-gradient(180deg, rgba(0,0,0,0.75), rgba(0,0,0,0.55));
  border-radius: 22px;
  opacity: 0;
  pointer-events:none;
}
.video-preview.is-empty .video-placeholder{ opacity:1; }

.video-preview{
  position: relative;
  border-radius: 22px;
  overflow: hidden;
  background: #000;
}
.project-video[hidden], .project-youtube{width:100%;height:100%;display:block;border:0;}
.project-youtube[hidden]{display:none !important;}
.project-video{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}
.video-error{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  background: rgba(0,0,0,0.55);
  color:#fff;
  padding: 18px;
}
.video-error-inner{
  width: min(420px, 90%);
  background: rgba(20,20,20,0.85);
  border-radius: 14px;
  padding: 14px 16px;
}
.video-error-title{
  font-family: 'Audiowide', system-ui, sans-serif;
  font-size: 14px;
  letter-spacing: .3px;
  margin-bottom: 6px;
}
.video-error-text{
  font-family: system-ui, sans-serif;
  font-size: 13px;
  line-height: 1.35;
  opacity: .95;
}

/* =========================
   MOBILE RESPONSIVE LAYOUT (v5)
   - Reserve space for top UI (logo/lang) + bottom navbar.
   - Reduce panel sizes so nothing sits under the navbar.
   - Keep navbar translucent.
   ========================= */
:root{
  --mobile-nav-h: 64px;
  --mobile-nav-gap: 12px; /* breathing room above navbar */
  --mobile-nav-total: calc(var(--mobile-nav-h) + env(safe-area-inset-bottom) + var(--mobile-nav-gap));

  --mobile-top-ui: 72px;  /* space for name + En/Es */
}

@media (max-width: 820px){
  html, body{ height: 100%; }
  body{ overflow: hidden; }

  /* Slide rail is clipped between top UI and bottom navbar */
  .slides{
    position: fixed;
    left: 0; right: 0;
    top: 0;
    bottom: var(--mobile-nav-total);
    height: auto;
    z-index: 1;
  }

  /* Each slide: start below the top UI */
  .slide{
    width: 100%;
    height: 100%;
    padding: calc(18px + var(--mobile-top-ui)) 14px 18px;
    box-sizing: border-box;

    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* prevent odd vertical centering */
    align-items: center;
    gap: 14px;
  }

  /* Cards/panels: smaller so they always fit */
  .panel-card, .video-shell{
    width: min(92vw, 520px);
    max-height: 100%;
    height: min(620px, 100%);
  }

  /* Video: constrain the player area */
  iframe, .video-embed iframe{
    max-height: 46vh !important;
  }
  .video-shell .video-frame,
  .video-shell .video-embed{
    height: auto;
    max-height: 46vh;
  }

  /* Graphics: constrain main preview and thumbs */
  .graphics-grid{
    width: 100%;
    gap: 12px;
  }
  .graphics-main{
    height: min(52vh, 520px);
  }
  .graphics-thumbs{
    gap: 10px;
  }
  .graphics-thumb{
    height: 70px;
  }

  /* Music: reduce typography so header doesn't eat the screen */
  .now-playing{
    font-size: 18px;
  }
  .now-playing-title{
    font-size: 34px;
    line-height: 1.05;
  }
  .now-playing-sub{
    font-size: 18px;
  }

  /* Music tiles: keep them from expanding too much */
  .music-grid{
    gap: 14px;
  }
  .music-tile{
    height: 150px;
  }

  /* Navbar: translucent, smaller, touch-friendly */
  .navbar{
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    bottom: 0;

    width: min(94vw, 560px);
    height: var(--mobile-nav-h);
    padding: 10px 12px calc(10px + env(safe-area-inset-bottom));
    border-radius: 18px 18px 0 0;

    background: rgba(217,217,217,0.72);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    box-shadow: 0px -10px 18px rgba(0,0,0,0.10);
    z-index: 50;
  }
  .navbar a{
    padding: 6px 10px;
    white-space: nowrap;
  }

  /* Keep logo/lang above everything */
  .logo{
    position: fixed;
    top: 16px;
    left: 16px;
    bottom: auto;
    z-index: 60;
  }
  .lang{
    position: fixed;
    top: 16px;
    right: 16px;
    z-index: 60;
  }
}

/* Short-height phones (landscape) */
@media (max-width: 820px) and (max-height: 560px){
  :root{ --mobile-top-ui: 60px; --mobile-nav-h: 58px; }
  .slide{ padding-top: calc(14px + var(--mobile-top-ui)); }
  iframe, .video-embed iframe{ max-height: 42vh !important; }
  .graphics-main{ height: min(48vh, 420px); }
}

/* =========================
   MOBILE TUNING (v6)
   - Navbar: true floating oval, closer to bottom
   - Graphics: reduce gap between main preview and thumbnails
   - Music: reduce tile size
   - Video: allow description to scroll
   ========================= */
@media (max-width: 820px){
  :root{
    --mobile-nav-h: 58px;
    --mobile-nav-gap: 6px;
    --mobile-nav-total: calc(var(--mobile-nav-h) + env(safe-area-inset-bottom) + var(--mobile-nav-gap));
  }

  .navbar{
    width: min(94vw, 560px);
    height: var(--mobile-nav-h);
    padding: 8px 12px calc(6px + env(safe-area-inset-bottom));
    border-radius: 999px;            /* true oval */
  }

  /* Pull the bar visually closer to the bottom edge */
  .navbar{ bottom: 0; }

  /* Graphics spacing: bring thumbs closer to main preview */
  .graphics-grid{ gap: 8px; }
  .graphics-main{ margin-bottom: 0; }
  .graphics-thumbs{ margin-top: 0; gap: 8px; }

  /* Music tiles smaller on mobile */
  .music-tile{ height: 120px; border-radius: 22px; }
  .music-tile img{ object-fit: cover; }

  /* Video text: allow scrolling inside the description region */
  .video-shell .project-info{
    min-height: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    padding-right: 6px;
  }
  /* If your markup uses .project-desc, keep it scrollable too */
  .video-shell .project-desc{
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    max-height: 26vh;
  }
}

/* =========================
   MOBILE PATCH (v7)
   Fixes:
   - Navbar thinner + tighter to bottom
   - About slide layout restored (no weird empty space / CV overlap)
   - Video description scrolls
   - Graphics main/thumb spacing reduced + thumbs horizontal on mobile
   ========================= */
@media (max-width: 820px){
  /* NAVBAR */
  :root{
    --mobile-nav-h: 52px;
    --mobile-nav-gap: 4px;
  }
  .navbar{
    height: var(--mobile-nav-h);
    padding: 6px 12px calc(6px + env(safe-area-inset-bottom));
    border-radius: 999px;
    background: rgba(217,217,217,0.68);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .navbar a{
    font-size: 16px;
    padding: 5px 10px;
  }

  /* ABOUT: center content, CV below, no overlay */
  .slide[data-section="about"]{
    justify-content: center;
    padding-top: calc(14px + var(--mobile-top-ui));
    padding-bottom: 18px;
  }
  .slide[data-section="about"] .hero{
    text-align: center;
    margin-top: 0;
  }
  .slide[data-section="about"] .cv-button-wrapper{
    position: relative !important;
    inset: auto !important;
    margin-top: 18px;
    align-self: center;
  }
  .slide[data-section="about"] .cv-button{
    transform: none !important;
  }

  /* VIDEO: enable scrolling for long descriptions */
  .video-card{
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .video-preview{
    flex: 0 0 auto;
  }
  .video-meta{
    flex: 1 1 auto;
    min-height: 0; /* critical for overflow inside */
  }
  #videoDesc{
    max-height: 22vh;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    padding-right: 6px;
  }

  /* GRAPHICS: reduce padding and bring thumbs closer, horizontal strip */
  .panel-card{
    padding: 18px;
  }
  .graphics-card{
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: 10px;
  }
  .graphics-main{
    height: min(54vh, 520px);
    margin-bottom: 0;
  }
  .graphics-thumbs{
    height: auto;
    grid-template-rows: none;
    grid-auto-flow: column;
    grid-auto-columns: 92px;
    gap: 10px;
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: 2px;
    -webkit-overflow-scrolling: touch;
  }
  .gthumb{
    border-radius: 18px;
  }
  .gthumb img{
    border-radius: 18px;
  }

  /* MUSIC: keep as-is (user said perfect) but ensure tiles don't grow */
  .music-tile{ height: 120px; }
}

/* =========================
   MOBILE PATCH (v8)
   - Pull cards upward (less top padding)
   - Restore About CV placement (ring + button together, smaller)
   ========================= */
@media (max-width: 820px){
  /* Reduce reserved top UI space a bit so cards sit higher */
  :root{
    --mobile-top-ui: 58px;
  }

  /* Pull slides upward slightly */
  .slide{
    padding-top: calc(12px + var(--mobile-top-ui)) !important;
    gap: 12px !important;
  }

  /* ABOUT: keep composition but compact */
  .slide[data-section="about"]{
    justify-content: center !important;
  }
  .slide[data-section="about"] .hero{
    margin-top: 0 !important;
    transform: translateY(-10px);
  }

  /* Put CV back as an overlapped badge on the dashed ring, but smaller */
  .slide[data-section="about"] .cv-button-wrapper{
    position: absolute !important;
    right: 18px !important;
    top: calc(50% + 36px) !important;
    transform: translateY(-50%) scale(0.82) !important;
    margin: 0 !important;
  }
  .slide[data-section="about"] .cv-button{
    transform: rotate(-18deg) !important;
  }
}

/* =========================
   MOBILE PATCH (v9)
   - Align CV button with dashed ring
   - Less top space above cards (video + graphics)
   - Give video card a bit more vertical room for text
   ========================= */
@media (max-width: 820px){
  /* Pull content even higher */
  :root{ --mobile-top-ui: 50px; }

  /* Default: less top padding */
  .slide{
    padding-top: calc(8px + var(--mobile-top-ui)) !important;
  }

  /* Specifically pull video+graphics a tad more */
  .slide[data-section="video"],
  .slide[data-section="graphics"]{
    padding-top: calc(6px + var(--mobile-top-ui)) !important;
  }

  /* Make video panel slightly taller */
  .slide[data-section="video"] .panel-card,
  .slide[data-section="video"] .video-shell{
    height: min(680px, 100%) !important;
  }

  /* Ensure the description area can use more space and scroll */
  #videoDesc{
    max-height: 30vh !important;
  }

  /* CV alignment: lock wrapper to ring center */
  .slide[data-section="about"] .cv-button-wrapper{
    /* place at same center reference as the ring */
    top: calc(50% + 40px) !important;
    right: 22px !important;
    transform: translateY(-50%) scale(0.82) !important;
  }

  /* If there is a ring element, nudge it slightly to match (safe no-op if class doesn't exist) */
  .slide[data-section="about"] .cv-ring{
    transform: translateY(0) !important;
  }
}

/* =========================
   MOBILE PATCH (v10)
   Fixes:
   - CV button ring alignment (keep translate(-50%,-50%)!)
   - Video description scroll (flex + block)
   - Graphics gap between main + thumbs (disable 100% stretch)
   ========================= */
@media (max-width: 820px){
  /* --- ABOUT: CV alignment --- */
  .slide[data-section="about"] .cv-button{
    /* restore centering; DO NOT override with rotate */
    transform: translate(-50%, -50%) !important;
  }
  .slide[data-section="about"] .cv-button span{
    transform: rotate(-20.17deg) !important; /* keep the artistic tilt */
  }

  /* --- VIDEO: make desc actually scrollable on iOS --- */
  .video-meta{
    display: flex;
    flex-direction: column;
    min-height: 0;
  }
  #videoDesc{
    display: block;
    flex: 1 1 auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    max-height: 34vh !important;
  }

  /* --- GRAPHICS: remove artificial stretching that creates "empty padding" --- */
  .graphics-card{
    align-items: start !important;
  }
  .graphics-thumbs{
    height: auto !important;
    align-content: start !important;
  }
  .graphics-main{
    margin-bottom: 0 !important;
  }
}

/* =========================
   MOBILE PATCH (v11)
   - CV button position (about): move to nicer spot
   - Graphics: ensure NO overlap with navbar + remove extra space between main and thumbs
   ========================= */
@media (max-width: 820px){
  /* ABOUT: nicer CV placement (lower-right, not covering the text) */
  .slide[data-section="about"] .cv-button-wrapper{
    right: 18px !important;
    top: calc(50% + 86px) !important;  /* push it down a bit */
    transform: translateY(-50%) scale(0.80) !important;
  }

  /* GRAPHICS: make sure panel content can't sit behind navbar */
  .slide[data-section="graphics"] .panel-card{
    padding-bottom: calc(18px + var(--mobile-nav-h)) !important;
    box-sizing: border-box;
  }

  /* Reduce vertical gap between main + thumbs */
  .slide[data-section="graphics"] .graphics-card{
    gap: 6px !important;
  }
  .slide[data-section="graphics"] .graphics-main{
    height: min(50vh, 480px) !important;
  }
  .slide[data-section="graphics"] .graphics-thumbs{
    grid-auto-columns: 86px !important;
    gap: 8px !important;
    padding-bottom: 0 !important;
  }

  /* Slightly reduce thumb height so it all fits comfortably */
  .slide[data-section="graphics"] .gthumb{
    height: 74px !important;
  }
}

/* =========================
   MOBILE PATCH (v12)
   - CV button: keep aligned AND place bottom-right (above navbar)
   - Graphics: no overlap with navbar, tighter thumbs, fullscreen over main preview
   ========================= */
@media (max-width: 820px){
  /* ABOUT: place CV bottom-right above navbar */
  .slide[data-section="about"] .cv-button-wrapper{
    top: auto !important;
    bottom: calc(var(--mobile-nav-h) + 22px) !important;
    right: 18px !important;
    transform: none !important;
    scale: 0.82;
  }

  /* GRAPHICS: make main preview the positioning context for fullscreen button */
  .slide[data-section="graphics"] .graphics-main{
    position: relative !important;
  }

  /* GRAPHICS: ensure card never sits under the navbar */
  .slide[data-section="graphics"] .panel-card{
    margin-bottom: calc(var(--mobile-nav-h) + 14px) !important;
  }

  /* GRAPHICS: tighten the gap between main and thumbs + between thumbs */
  .slide[data-section="graphics"] .graphics-grid{
    gap: 6px !important;
  }
  .slide[data-section="graphics"] .graphics-thumbs{
    gap: 6px !important;
    grid-auto-columns: 88px !important;
    padding-bottom: 10px !important; /* breathing room above navbar */
  }
  .slide[data-section="graphics"] .gthumb{
    height: 72px !important;
  }

  /* Fullscreen button: keep it on the main preview (not near navbar) */
  .slide[data-section="graphics"] .gfull-btn{
    right: 14px !important;
    bottom: 14px !important;
  }
}

/* =========================
   MOBILE PATCH (v13)
   - About: center hero+CV group on screen (CV positioned relative to center)
   - Graphics: remove excess empty space under thumbs by letting card height hug content
   ========================= */
@media (max-width: 820px){

  /* ABOUT: keep hero centered; anchor CV to screen center with a tasteful offset */
  .slide[data-section="about"]{
    padding-top: 32px !important;
  }
  .slide[data-section="about"] .cv-button-wrapper{
    left: 50% !important;
    right: auto !important;
    top: 50% !important;
    bottom: auto !important;
    /* offset so CV sits down-right from the centered hero, but the pair is centered overall */
    transform: translate(62px, 150px) scale(0.82) !important;
    transform-origin: center !important;
  }

  /* GRAPHICS: card should not be a tall fixed panel on mobile */
  .slide[data-section="graphics"] .panel-card{
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    padding-bottom: 18px !important;
    margin-bottom: 0 !important; /* prevent extra blank area */
  }

  /* ensure thumbs don't reserve extra space */
  .slide[data-section="graphics"] .graphics-thumbs{
    padding-bottom: 6px !important;
    margin-bottom: 0 !important;
  }
}
